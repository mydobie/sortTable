"use strict";var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};var __spreadArray=this&&this.__spreadArray||function(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))};Object.defineProperty(exports,"__esModule",{value:true});exports.sortDirectionString=exports.displayRows=exports.filterRows=exports.sortRows=void 0;var fastest_levenshtein_1=require("fastest-levenshtein");var sortRows=function(_a){var rows=_a.rows,sortCol=_a.sortCol,sortAscending=_a.sortAscending,_b=_a.onSort,onSort=_b===void 0?function(){}:_b;var sortedRows=__spreadArray([],rows,true).sort(function(a,b){if(a[sortCol]===b[sortCol]){return 0}if(a[sortCol]===undefined){return sortAscending===false?-1:1}if(b[sortCol]===undefined){return sortAscending===true?-1:1}if(a[sortCol]<b[sortCol]){return sortAscending===true?-1:1}return sortAscending===false?-1:1}).map(function(row,index){return __assign(__assign({},row),{rowindex:index+2})});onSort(sortedRows);return sortedRows};exports.sortRows=sortRows;var filterRows=function(_a){var rows=_a.rows,_b=_a.filterValue,filterValue=_b===void 0?"":_b,_c=_a.caseSensitiveFilter,caseSensitiveFilter=_c===void 0?false:_c,headers=_a.headers,_d=_a.useFuzzySearch,useFuzzySearch=_d===void 0?true:_d,maxFuzzyDistance=_a.maxFuzzyDistance;var filterText=caseSensitiveFilter===true?filterValue:filterValue.toLowerCase();var newTableDisplayRows=__spreadArray([],rows,true);newTableDisplayRows.forEach(function(row,index){newTableDisplayRows[index].hide=true;headers.forEach(function(header){if((header.noFilter===undefined||header.noFilter===false)&&row[header.key]!==undefined){var value=row[header.key].toString();value=caseSensitiveFilter===true?value:value.toLowerCase();if(useFuzzySearch&&(0,fastest_levenshtein_1.distance)(value,filterText)<=maxFuzzyDistance||value.includes(filterText)){newTableDisplayRows[index].hide=false}}})});return rows};exports.filterRows=filterRows;var displayRows=function(_a){var sortedAndFilteredRows=_a.sortedAndFilteredRows,activePage=_a.activePage,numberPerPage=_a.numberPerPage;if(activePage===null||numberPerPage===null){return sortedAndFilteredRows}var startIndex=(activePage-1)*numberPerPage;var endIndex=startIndex+numberPerPage;var newRows=sortedAndFilteredRows.slice(startIndex,endIndex);return newRows};exports.displayRows=displayRows;var sortDirectionString=function(col,sortCol,sortAscending){if(col!==sortCol){return undefined}return sortAscending?"ascending":"descending"};exports.sortDirectionString=sortDirectionString;